.. _vulnerability:
.. currentmodule:: hydromt_fiat.workflows.vulnerability

=======================
Vulnerability Module
=======================

The vulnerability module contains functions to select vulnerability curves from 
existing (pre-defined) sources and transform them to a common 
`Delft-FIAT <https://github.com/Deltares/Delft-FIAT>`_ format, see vulnerability_format_. 
The currently available sources are :ref:`jrc` and :ref:`hazus`.

Note that the terms vulnerability curves and damage functions are used interchangeably 
in this module and documentation.

.. _vulnerability_format:

Vulnerability CSV format
------------------------

The format of a `Delft-FIAT <https://github.com/Deltares/Delft-FIAT>`_ vulnerability 
curve database is a csv file structured as follows:

.. image:: /_static/format_vulnerability_curves.PNG
    :width: 300px
    :align: center
    :alt: Format vulnerability curves


The first row contains the **unit** of the hazard values that are specified in the 
first column. The second row contains the **method** (mean or max) that should be 
used by FIAT to compute the hazard value for each asset when an aereal extraction 
method is used. This method links to the vulnerability curve specified in the same 
column below. For example, if the method of a certain vulnerability curves is set 
to `max`, the maximum value of the hazard values under the assets using that curve 
will be used to compute the damage. The third row contains the **name of the hazard 
and names of the damage functions**.

